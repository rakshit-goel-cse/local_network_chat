{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rakshit Work\\\\Desktop\\\\workspace\\\\local_network_chat\\\\local_chat\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport ChatBox from \"./chatBox\";\nimport AddMsg from \"./addMessage\";\nimport axios from \"axios\";\nimport Login from \"./login/login\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [chatData, setChatData] = React.useState([]);\n  const [userName, setUserNam] = React.useState(\"\");\n  //  const bc= new BroadcastChannel(\"chatBoox\");\n  //  bc.addEventListener(\"message\", e=>{\n  //    setChatData([...chatData,e.data]);\n  //    console.log(\"msg from broad- \"+e);\n  //  })\n\n  //set username from cookies\n  useEffect(() => {\n    console.log(\"setuserloc\");\n    localStorage.setItem(\"user\", JSON.stringify(userName));\n  }, [userName]);\n  const logout = () => {\n    localStorage.removeItem(\"user\");\n    setUserNam(\"\");\n  };\n\n  //set data at backend when adding text\n  const addChat = async msg => {\n    //setChatData([...chatData,msg]);\n    //    bc.postMessage(msg);\n    console.log(\"msg- \" + msg);\n    try {\n      await axios.post(\"http://192.168.29.231:8000/\", {\n        user: userName,\n        msg: msg\n      }).then(response => {\n        console.log(\"axios.get\", response.data);\n        setChatData(response.data);\n      });\n    } catch (e) {\n      console.log(\"error in front end axios\" + e);\n    }\n  };\n  if (userName === null || userName === \"\") {\n    const tempUser = JSON.parse(localStorage.getItem(\"user\"));\n    //console.log(\"tempData- \",tempUser)\n    if (tempUser && tempUser.length > 1) {\n      setUserNam(tempUser);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Login, {\n        setUser: setUserNam\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 14\n      }, this);\n    }\n  } else {\n    //get data from backend every second\n    React.useEffect(() => {\n      axios.get(\"http://192.168.29.231:8000/data\").then(response => {\n        //    console.log(\"axios.get on launch\",response.data)\n        setChatData(response.data);\n      });\n    }, [setInterval(() => {\n      return;\n    }, 1000)]);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container row left grey lighten-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \" orange teal-text text-darken-2 \",\n        children: [userName, /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \" waves-effect btn-small right red white-text\",\n          onClick: logout,\n          children: \"LogOut\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChatBox, {\n        chatData: chatData,\n        userName: userName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddMsg, {\n        addChat: addChat\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n}\n_s(App, \"GIBsi4qtw3bffbDnFGQvHGFs9WM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","ChatBox","AddMsg","axios","Login","jsxDEV","_jsxDEV","App","_s","chatData","setChatData","useState","userName","setUserNam","console","log","localStorage","setItem","JSON","stringify","logout","removeItem","addChat","msg","post","user","then","response","data","e","tempUser","parse","getItem","length","setUser","fileName","_jsxFileName","lineNumber","columnNumber","get","setInterval","className","children","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Rakshit Work/Desktop/workspace/local_network_chat/local_chat/src/App.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport ChatBox from \"./chatBox\";\nimport AddMsg from \"./addMessage\";\nimport axios from \"axios\";\nimport Login from \"./login/login\";\n\nfunction App() {\n  const [chatData, setChatData] = React.useState([]);\n  const [userName, setUserNam] = React.useState(\"\");\n  //  const bc= new BroadcastChannel(\"chatBoox\");\n  //  bc.addEventListener(\"message\", e=>{\n  //    setChatData([...chatData,e.data]);\n  //    console.log(\"msg from broad- \"+e);\n  //  })\n\n  //set username from cookies\n  useEffect(() => {\n    console.log(\"setuserloc\");\n    localStorage.setItem(\"user\", JSON.stringify(userName));\n  }, [userName]);\n\n  const logout = () => {\n    localStorage.removeItem(\"user\");\n    setUserNam(\"\");\n  };\n\n  //set data at backend when adding text\n  const addChat = async (msg) => {\n    //setChatData([...chatData,msg]);\n    //    bc.postMessage(msg);\n    console.log(\"msg- \" + msg);\n    try {\n      await axios\n        .post(\"http://192.168.29.231:8000/\", {\n          user: userName,\n          msg: msg,\n        })\n        .then((response) => {\n          console.log(\"axios.get\", response.data);\n          setChatData(response.data);\n        });\n    } catch (e) {\n      console.log(\"error in front end axios\" + e);\n    }\n  };\n\n  if (userName === null || userName === \"\") {\n    const tempUser = JSON.parse(localStorage.getItem(\"user\"));\n    //console.log(\"tempData- \",tempUser)\n    if (tempUser && tempUser.length > 1) {\n      setUserNam(tempUser);\n    } else {\n      return <Login setUser={setUserNam} />;\n    }\n  } else {\n    //get data from backend every second\n    React.useEffect(() => {\n      axios.get(\"http://192.168.29.231:8000/data\").then((response) => {\n        //    console.log(\"axios.get on launch\",response.data)\n        setChatData(response.data);\n      });\n    }, [\n      setInterval(() => {\n        return;\n      }, 1000),\n    ]);\n\n    return (\n      <div className=\"container row left grey lighten-4\">\n        <h5 className=\" orange teal-text text-darken-2 \">\n          {userName}\n          <label\n            className=\" waves-effect btn-small right red white-text\"\n            onClick={logout}\n          >\n            LogOut\n          </label>\n        </h5>\n        <ChatBox chatData={chatData} userName={userName} />\n        <AddMsg addChat={addChat} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}